<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Shortener</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="page">
        <nav class="navbar">
            <div class="logo">Shivam's URL Shortener</div>
            <ul>
                <li><a href="/">Home</a></li>
                <!-- <li><a href="/shorten">Shorten URL</a></li> -->
                <li><a href="/about">About</a></li>
                <li><a href="/contact">Contact</a></li>
            </ul>
        </nav>

        <div class="container">

            <div style="margin-top: 80px; padding: 20px;">
                <!-- Content of your website goes here -->
                <h1>Welcome to Shivam's URL Shortener</h1>
                <p>Shorten your long URLs quickly and efficiently.</p>
            </div>
            <form action="/shorten" method="POST">
                <label for="long_url">Enter the URL:</label>
                <input type="url" id="long_url" name="long_url" placeholder="Enter a long URL" required>
                <button type="submit">Shorten</button>
            </form>

            {% if short_url %}
            <div class="result">
                <p>Shortened URL:
                    <input type="text" id="short_url" value="{{ short_url }}" readonly>
                    <button onclick="copyToClipboard()">Copy</button>
                </p>
            </div>
            {% elif error %}
            <div class="error">
                <p>{{ error }}</p>
            </div>
            {% endif %}
        </div>

        <footer class="footer">
            <p>&copy; 2025 Shivam's URL Shortener. All rights reserved.</p>
        </footer>

    </div>
    <script>
        function copyToClipboard() {
            const shortUrlInput = document.getElementById('short_url');
            shortUrlInput.select(); // Select the URL
            shortUrlInput.setSelectionRange(0, 99999); // For mobile devices
            navigator.clipboard.writeText(shortUrlInput.value).then(() => {
                // alert("Shortened URL copied to clipboard!");
            }).catch(err => {
                alert("Failed to copy URL. Try manually.");
            });
        }
    </script>
</body>

</html>